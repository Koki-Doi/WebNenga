# Web年賀状（ローカル版）

ブラウザだけで宛名面・挨拶面を編集し、そのまま印刷まで完結できるシングルページアプリです。ビルド不要で `index.html` を静的サーバーで開くだけで動作します。

## 使い方
- PC表示で左下「編集」を押すとエディタが開きます。
- 宛名・敬称・差出人・挨拶文・背景を入力／選択すると即時プレビューに反映されます。
- 右下の「印刷」ボタン（PCのみ）から印刷プレビューを開きます。モバイルはブラウザ標準の印刷から出力してください。
- カードはクリック / Enter / Space / 左右スワイプで裏表反転します。

## 主な機能
- 宛名面と挨拶面のリアルタイム編集・プレビュー
- 背景画像のサンプル適用・任意画像アップロード（Cropper.jsで100:148にトリミング）
- 挨拶文メッセージの自動フィット（PCでの改行位置をモバイルでも維持）
- 画像／メッセージ縦位置の微調整（ローカルに保存）
- CSV一括モードで宛名リストから共有URLを生成

## ファイル構成
- `index.html` : 画面本体とエディタUI
- `nenga.css` : レイアウト、3Dカード表現、印刷スタイル
- `js/`  
  - `main.js` : 初期化エントリ  
  - `card-controls.js` : 裏表反転・操作入力  
  - `card-effects.js` : パララックス・光沢・ジャイロ  
  - `editor.js` : 入力反映・共有URL生成・背景アップロード・CSVモード  
  - `position-controls.js` : 画像/挨拶文の縦位置調整  
  - `message-autofit-lite.js` : 挨拶文の自動フィット（軽量版）  
  - `print.js` : 画面を画像化して印刷（宛名縦積みなどの前処理を含む）  
  - `image-utils.js`, `storage.js`, `templates.js`, `utils.js`, `csv-mode.js` ほか補助スクリプト

## 開発メモ
- ビルドレス構成です。編集後はブラウザをリロードするだけで反映されます。
- 共有URL機能や外部ストレージ連携は`storage.js`などに設定があります（必要に応じて差し替えてください）。
- 印刷はhtml2canvasでDOMを画像化して2ページ（挨拶面/宛名面）を生成しています。

## 印刷のポイント
- PC：右下の「印刷」ボタンを使用。ブラウザの印刷設定で「背景のグラフィック」を有効にしてください。
- モバイル：ブラウザ標準の印刷機能から出力してください（表示と同じ幅でキャプチャします）。
- 宛名面は横書きテキストを`<br>`で縦積みし、スペースは空行として扱います。

## ライセンス/素材
- フォント：Google Fonts "Noto Sans JP" を使用。
- 画像素材や挨拶文テンプレートは差し替え時に権利・利用規約をご確認ください。
